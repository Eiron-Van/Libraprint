<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="icon" href="/asset/fingerprint.ico" type="image/x-icon">

    <!-- ‚úÖ Tailwind CLI compiled CSS -->
    <link rel="stylesheet" href="/style.css?v=1.5">
    <script src="../script.js"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <!-- Chart.js for analytics charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <title>Analytics | LibraPrint</title>
</head>

<body class="grid items-center bg-gradient-to-b from-[#304475] to-[#0c0c0c] min-h-screen text-gray-900 bg-fixed">

    <!-- HEADER -->
    <header class="bg-gray-900 text-white sticky top-0 z-10">
        <section class="max-w-[100rem] mx-auto p-3 lg:p-2 flex justify-between items-center">
            <div class="flex items-center mx-4 space-x-6">
                <button id="menu" class="text-[30px] focus:outline-none cursor-pointer hover:opacity-60 active:opacity-40 transition-opacity duration-200 p-2">
                    <i class="fas fa-bars"></i>
                </button>
                <div id="brand" class="flex items-center space-x-1.5">
                    <i class="fas fa-fingerprint text-white text-[30px]"></i>
                    <a class="text-2xl font-serif" href="https://libraprintlucena.com">LibraPrint</a>
                </div>
            </div>

            <div class="flex items-center mx-4 space-x-6">
                <nav class="hidden sm:block">
                    <ul class="md:flex md:flex-col lg:flex-row md:text-sm space-x-6">
                        <li><a href="https://libraprintlucena.com" class="hover:opacity-60 transition-opacity duration-200">Home</a></li>
                        <li><a href="/AboutUs" class="font-bold hover:opacity-60 transition-opacity duration-200">About Us</a></li>
                        <li><a href="/ContactUs" class="hover:opacity-60 transition-opacity duration-200">Contact Us</a></li>
                    </ul>
                </nav>
            </div>
        </section>
    </header>

    <!-- SIDENAV -->
    <div id="side-menu" class="hidden flex-col bg-[#F4F4F4] fixed inset-y-0 z-[9] w-fit top-21 lg:top-19">
        <nav class="flex flex-col bg-[#F4F4F4] h-[calc(100vh-84px)] justify-between">
            <ul>
                <li><a class="text-black text-2xl hover:bg-slate-200 w-full px-5 py-4 flex items-center" href="/Profile"><img class="w-8 m-2" src="/asset/profile.png" alt="">Profile</a></li>
                <li><a class="text-black text-2xl hover:bg-slate-200 w-full px-5 py-4 flex items-center" href="/Reservation"><img class="w-8 m-2" src="/asset/book_r.png" alt="">Book Reservation</a></li>
                <li><a class="text-black text-2xl hover:bg-slate-200 w-full px-5 py-4 flex items-center" href="/Borrowing"><img class="w-8 m-2" src="/asset/book_b.png" alt="">Book Borrowing</a></li>
                <li class="sm:hidden"><a class="text-black text-2xl bg-slate-300 w-full px-5 py-4 flex items-center" href="/AboutUs"><img class="w-8 m-2" src="/asset/about_us.png" alt="">About Us</a></li>
                <li class="sm:hidden"><a class="text-black text-2xl hover:bg-slate-200 w-full px-5 py-4 flex items-center" href="/ContactUs"><img class="w-8 m-2" src="/asset/contact_us.png" alt="">Contact Us</a></li>
                <li><a class="text-black text-2xl hover:bg-slate-200 w-full px-5 py-4 flex items-center" href="#"><img class="w-8 m-2" src="/asset/setting.png" alt="">Settings</a></li>
            </ul>
        </nav>  
    </div>

    <!-- ANALYTICS DASHBOARD -->
    <main class="p-10 text-white">
        <h1 class="text-4xl font-bold mb-8 text-center">üìä LibraPrint Analytics Dashboard</h1>

        <!-- KPI SUMMARY CARDS -->
        <section class="grid md:grid-cols-3 gap-6 mb-10">
            <div class="bg-white/10 p-6 rounded-xl text-center shadow-lg">
                <h2 class="text-xl font-semibold">üë• Total Visitors (This Month)</h2>
                <p class="text-3xl font-bold mt-2">1,245</p>
            </div>
            <div class="bg-white/10 p-6 rounded-xl text-center shadow-lg">
                <h2 class="text-xl font-semibold">üìö Books Borrowed (This Month)</h2>
                <p class="text-3xl font-bold mt-2">382</p>
            </div>
            <div class="bg-white/10 p-6 rounded-xl text-center shadow-lg">
                <h2 class="text-xl font-semibold">üßæ Active Reservations</h2>
                <p class="text-3xl font-bold mt-2">96</p>
            </div>
        </section>

        <!-- SECTION A: Visitor Analytics -->
        <section class="mb-16">
            <h2 class="text-2xl font-semibold mb-4">üßç Visitor Analytics</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-white/10 p-6 rounded-xl">
                    <h3 class="text-lg font-semibold mb-3">Daily Attendance</h3>
                    <canvas id="attendanceChart" ></canvas>
                </div>
                <div class="bg-white/10 p-6 rounded-xl">
                    <h3 class="text-lg font-semibold mb-3">Visitor Purpose Distribution</h3>
                    <canvas id="purposeChart"></canvas>
                </div>
            </div>
        </section>

        <!-- SECTION B: Book Usage Analytics -->
        <section class="mb-16">
            <h2 class="text-2xl font-semibold mb-4">üìö Book Usage Analytics</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-white/10 p-6 rounded-xl">
                    <h3 class="text-lg font-semibold mb-3">Most Borrowed Genres</h3>
                    <canvas id="genreChart"></canvas>
                </div>
                <div class="bg-white/10 p-6 rounded-xl">
                    <h3 class="text-lg font-semibold mb-3">Book Usage Rate (%)</h3>
                    <canvas id="usageChart"></canvas>
                </div>
            </div>
        </section>

        <!-- SECTION C: Borrowing Trends -->
        <section class="mb-10">
            <h2 class="text-2xl font-semibold mb-4">üìà Borrowing Trends</h2>
            <div class="bg-white/10 p-6 rounded-xl">
                <canvas id="trendChart"></canvas>
            </div>
        </section>
    </main>

    <!-- CHARTS SCRIPT -->
    <script>
        // ‚úÖ Set Global Defaults for All Charts (White Text)
    Chart.defaults.color = 'white';
        // Daily Attendance (Line Chart)
    new Chart(document.getElementById('attendanceChart'), {
        type: 'line',
        data: {
            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
            datasets: [{
                label: 'Visitors',
                data: [45, 62, 58, 71, 66, 48],
                borderColor: '#60a5fa',
                borderWidth: 2,
                tension: 0.3,
                fill: false,
                pointBackgroundColor: '#60a5fa'
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: {
                    labels: { color: 'white' } // ‚úÖ legend text color
                }
            },
            scales: {
                x: {
                    ticks: { color: 'white' }, // ‚úÖ x-axis labels
                    grid: { color: 'rgba(255,255,255,0.1)' } // light grid lines
                },
                y: {
                    ticks: { color: 'white' }, // ‚úÖ y-axis labels
                    grid: { color: 'rgba(255,255,255,0.1)' }
                }
            }
        }
    });
        // Visitor Purpose Distribution (Donut Chart)
        new Chart(document.getElementById('purposeChart'), {
            type: 'doughnut',
            data: {
                labels: ['Read', 'Borrow', 'Research'],
                datasets: [{
                    data: [55, 30, 15],
                    backgroundColor: ['#60a5fa', '#34d399', '#fbbf24']
                }]
            },
            options: { responsive: true }
        });

        // Most Borrowed Genres (Bar Chart)
        new Chart(document.getElementById('genreChart'), {
            type: 'bar',
            data: {
                labels: ['Science', 'Fiction', 'Education', 'History', 'Children'],
                datasets: [{
                    label: 'Borrow Count',
                    data: [120, 95, 80, 65, 50],
                    backgroundColor: '#34d399'
                }]
            },
            options: { responsive: true, plugins: { legend: { display: false } } }
        });

        // Book Usage Rate (Pie Chart)
        new Chart(document.getElementById('usageChart'), {
            type: 'pie',
            data: {
                labels: ['Borrowed Books', 'Available Books'],
                datasets: [{
                    data: [380, 620],
                    backgroundColor: ['#60a5fa', '#9ca3af']
                }]
            },
            options: { responsive: true }
        });

        // Borrowing Trends (Line Chart)
        new Chart(document.getElementById('trendChart'), {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                datasets: [{
                    label: 'Borrowed Books per Month',
                    data: [200, 250, 310, 280, 350, 390],
                    borderColor: '#fbbf24',
                    tension: 0.3,
                    fill: false
                }]
            },
            options: { responsive: true }
        });
    </script>
</body>
</html>