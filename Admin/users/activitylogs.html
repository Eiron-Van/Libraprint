<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../asset/fingerprint.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="/style.css?v=1.5">
    <script src="/Admin/script.js"></script>
    <title>Libraprint|Admin</title>
</head>
<body class="bg-gradient-to-b from-[#304475] to-[#0c0c0c] bg-fixed min-h-screen text-white">

    <header class="bg-gray-900 text-white sticky top-0 z-10 flex-wrap">
        <section class="max-w-[100rem] mx-auto p-3 lg:p-2 flex justify-between items-center flex-wrap">
            <div class="flex items-center mx-4 space-x-6">
                <div>
                    <button id="menu" class="text-[30px] focus:outline-none cursor-pointer hover:opacity-60 active:opacity-40 transition-opacity duration-200 p-2">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <div id="brand" class="flex flex-row items-center space-x-1.5">
                    <img src="/asset/fingerprint.png" class="w-15">
                    <a class="text-2xl font-serif pt-2" href="https://libraprintlucena.com">Libraprint</a>
                </div>
            </div>
        </section>
    </header>

    <div class="flex">
        <div id="side-menu" class="hidden flex-col bg-[#F4F4F4] w-fit top-19 fixed z-[9] inset-y-0">
            <nav class="flex flex-col bg-[#F4F4F4] h-[calc(100vh-84px)] justify-between">
                <ul>
                    <li><a class=" text-black text-2xl hover:bg-slate-200 active:bg-slate-300 w-full px-5 py-4 flex items-center" href="/Admin"><img class="w-8 m-2" src="/asset/dashboard.png">Dashboard</a></li>
                    <li><a class=" text-black text-2xl hover:bg-slate-200 active:bg-slate-300  bg-slate-200 w-full px-5 py-4 flex items-center" href=""><img class="w-8 m-2" src="/asset/users.png">Users</a></li>
                    <li><a class=" text-black text-2xl hover:bg-slate-200 active:bg-slate-300 w-full px-5 py-4 flex items-center" href="/Admin/inventory"><img class="w-8 m-2" src="/asset/inventory.png">Inventory</a></li>
                    <li><a class=" text-black text-2xl hover:bg-slate-200 active:bg-slate-300 w-full px-5 py-4 flex items-center" href="/Admin/reports"><img class="w-8 m-2" src="/asset/reports.png">Reports</a></li>
                </ul>
            </nav>
        </div>
    </div>

    <!-- Page Title -->
    <div class="text-center mt-10 mb-6">
        <h1 class="text-4xl font-bold tracking-wide text-white drop-shadow-md">Activity Logs</h1>
        <p class="text-gray-300 text-sm mt-1">View and manage all system activity logs</p>
    </div>

   <!-- Borrowing Activities Dropdown -->
<div class="flex justify-center mt-6 mb-4">
  <div class="relative inline-block text-left">
    <button id="dropdownButton" 
      class="inline-flex justify-center w-full rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 shadow-md">
      Borrowing Activities
      <svg class="ml-2 -mr-1 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" 
              d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z" 
              clip-rule="evenodd" />
      </svg>
    </button>

    <div id="dropdownMenu" 
      class="hidden absolute left-1/2 transform -translate-x-1/2 z-10 mt-2 w-44 origin-top rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5">
      <div class="py-1">
        <button class="dropdown-item block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" data-target="reservationTable">Reservation Logs</button>
        <button class="dropdown-item block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" data-target="claimTable">Claim Logs</button>
        <button class="dropdown-item block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" data-target="borrowTable">Borrow Logs</button>
        <button class="dropdown-item block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" data-target="bookrecordTable">Book Records</button>
      </div>
    </div>
  </div>
</div>


    <!-- Log Tables Section -->
    <main class="p-10 text-center space-y-10 overflow-x-auto p-4 sm:p-10">
        <!-- Reservation Logs (Shown by Default) -->
        <div id="reservationTable" class="bg-gray-900 rounded-2xl shadow-lg p-6  w-11/12">
            <h2 class="text-2xl font-semibold mb-4 text-white">Reservation Logs</h2>
            <table class="min-w-full border border-gray-700 rounded-xl overflow-hidden text-center max-w-full text-xs sm:text-sm">
                <thead class="bg-gray-500 text-gray-300">
                    <tr>
                        <th class="px-4 py-2 border border-gray-700">id</th>
                        <th class="px-4 py-2 border border-gray-700">item_id</th>
                        <th class="px-4 py-2 border border-gray-700">user_id</th>
                        <th class="px-4 py-2 border border-gray-700">date_reserved</th>
                        <th class="px-4 py-2 border border-gray-700">purpose</th>
                        <th class="px-4 py-2 border border-gray-700"></th>
                    </tr>
                </thead>
                <tbody class="bg-gray-100 text-gray-900">
                    <tr class="hover:bg-gray-200 transition">
                        <td class="px-4 py-2 border border-gray-300">135</td>
                        <td class="px-4 py-2 border border-gray-300">2</td>
                        <td class="px-4 py-2 border border-gray-300">75</td>
                        <td class="px-4 py-2 border border-gray-300">2025-10-15 09:22:25</td>
                        <td class="px-4 py-2 border border-gray-300">Borrow</td>
                        <td class="px-4 py-2 border border-gray-300"></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Claim Logs -->
        <div id="claimTable" class="hidden bg-gray-900 rounded-2xl shadow-lg p-6  w-11/12">
            <h2 class="text-2xl font-semibold mb-4 text-white">Claim Logs</h2>
            <table class="min-w-full border border-gray-700 rounded-xl overflow-hidden  text-center max-w-full text-xs sm:text-sm">
                <thead class="bg-gray-500 text-gray-300">
                    <tr>
                        <th class="px-4 py-2 border border-gray-700">id</th>
                        <th class="px-4 py-2 border border-gray-700">user_id</th>
                        <th class="px-4 py-2 border border-gray-700">item_id</th>
                        <th class="px-4 py-2 border border-gray-700">purpose</th>
                        <th class="px-4 py-2 border border-gray-700">date_claimed</th>
                        <th class="px-4 py-2 border border-gray-700">is_returned</th>
                    </tr>
                </thead>
                <tbody class="bg-gray-100 text-gray-900">
                    <tr class="hover:bg-gray-200 transition">
                        <td class="px-4 py-2 border border-gray-300">10</td>
                        <td class="px-4 py-2 border border-gray-300">3</td>
                        <td class="px-4 py-2 border border-gray-300">41</td>
                        <td class="px-4 py-2 border border-gray-300">Borrow</td>
                        <td class="px-4 py-2 border border-gray-300">2025-10-14 03:43:33</td>
                        <td class="px-4 py-2 border border-gray-300">1</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Borrow Logs -->
        <div id="borrowTable" class="hidden bg-gray-900 rounded-2xl shadow-lg p-6  w-11/12">
            <h2 class="text-2xl font-semibold mb-4 text-white">Borrow Logs</h2>
            <table class="min-w-full border border-gray-700 rounded-xl overflow-hidden  text-center max-w-full text-xs sm:text-sm">
                <thead class="bg-gray-500 text-gray-300">
                    <tr>
                        <th class="px-4 py-2 border border-gray-700">id</th>
                        <th class="px-4 py-2 border border-gray-700">user_id</th>
                        <th class="px-4 py-2 border border-gray-700">book_id</th>
                        <th class="px-4 py-2 border border-gray-700">date_borrowed</th>
                        <th class="px-4 py-2 border border-gray-700">date_returned</th>
                        <th class="px-4 py-2 border border-gray-700">date_duration</th>
                        <th class="px-4 py-2 border border-gray-700">status</th>
                    </tr>
                </thead>
                <tbody class="bg-gray-100 text-gray-900">
                    <tr class="hover:bg-gray-200 transition">
                        <td class="px-4 py-2 border border-gray-300">1</td>
                        <td class="px-4 py-2 border border-gray-300">1</td>
                        <td class="px-4 py-2 border border-gray-300">29</td>
                        <td class="px-4 py-2 border border-gray-300">2025-10-01 10:00:00</td>
                        <td class="px-4 py-2 border border-gray-300">2025-10-08 10:00:00</td>
                        <td class="px-4 py-2 border border-gray-300">2025-10-08 10:00:00</td>
                        <td class="px-4 py-2 border border-gray-300">Returned</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Book Records -->
        <div id="bookrecordTable" class="hidden bg-gray-900 rounded-2xl shadow-lg p-6  w-11/12">
            <h2 class="text-2xl font-semibold mb-4 text-white">Book Records</h2>
            <table class="min-w-full border border-gray-700 rounded-xl overflow-hidden text-center max-w-full text-xs sm:text-sm">
                <thead class="bg-gray-500 text-gray-300">
                    <tr>
                        <th class="px-4 py-2 border border-gray-700">id</th>
                        <th class="px-4 py-2 border border-gray-700">user_id</th>
                        <th class="px-4 py-2 border border-gray-700">book_id</th>
                        <th class="px-4 py-2 border border-gray-700">read_date</th>
                    </tr>
                </thead>
                <tbody class="bg-gray-100 text-gray-900">
                    <tr class="hover:bg-gray-200 transition">
                        <td class="px-4 py-2 border border-gray-300">135</td>
                        <td class="px-4 py-2 border border-gray-300">2</td>
                        <td class="px-4 py-2 border border-gray-300">75</td>
                        <td class="px-4 py-2 border border-gray-300">2025-10-15 09:22:25</td>
                    </tr>
                </tbody>
            </table>
        </div>
         <!-- Dropdown Menu -->
    <!-- User Activities Dropdown -->
  <div class="relative inline-block text-left w-full sm:w-auto">
    <button id="dropdownUser" 
      class="inline-flex justify-center w-full sm:w-auto rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 shadow-md">
      User Activities
      <svg class="ml-2 -mr-1 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" 
              d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z" 
              clip-rule="evenodd" />
      </svg>
    </button>

    <div id="dropdownUsersMenu" 
      class="hidden absolute left-0 z-10 mt-2 w-44 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5">
      <div class="py-1">
        <button class="dropdown-usersitem block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" data-target="LoginTable">Login Records</button>
        <button class="dropdown-usersitem block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" data-target="UsersTable">Users</button>
        <button class="dropdown-usersitem block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" data-target="DelinquentsTable">Delinquent Users</button>
      </div>
    </div>
  </div>


    <!-- Log Tables Section -->
    <main class=" text-center space-y-10 overflow-x-auto p-4 sm:p-10">
        <!--  Login Records (Shown by Default) -->
        <div id="LoginTable" class="bg-gray-900 rounded-2xl shadow-lg p-6  w-11/12">
            <h2 class="text-2xl font-semibold mb-4 text-white">Login Records</h2>
            <table class="min-w-full border border-gray-700 rounded-xl overflow-hidden max-w-full text-xs sm:text-sm text-center">
                <thead class="bg-gray-500 text-gray-300">
                    <tr>
                        <th class="px-4 py-2 border border-gray-700">id</th>
                        <th class="px-4 py-2 border border-gray-700">user_id</th>
                        <th class="px-4 py-2 border border-gray-700">login_time</th>
                        <th class="px-4 py-2 border border-gray-700">purpose</th>
                        <th class="px-4 py-2 border border-gray-700">location</th>
                    </tr>
                </thead>
                <tbody class="bg-gray-100 text-gray-900">
                    <tr class="hover:bg-gray-200 transition">
                        <td class="px-4 py-2 border border-gray-300">135</td>
                        <td class="px-4 py-2 border border-gray-300">2</td>
                
                        <td class="px-4 py-2 border border-gray-300">2025-10-15 09:22:25</td>
                        <td class="px-4 py-2 border border-gray-300">Borrow</td>
                        <td class="px-4 py-2 border border-gray-300">On Site</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Users -->
<div id="UsersTable" class="hidden bg-gray-900 rounded-2xl shadow-lg p-6 w-11/12">
    <h2 class="text-2xl font-semibold mb-4 text-white">Users</h2>
    
    <!-- ✅ Add scroll wrapper -->
    <div class="overflow-x-auto w-full">
        <table class="min-w-full border border-gray-500 rounded-xl overflow-hidden max-w-full text-xs sm:text-sm text-center">
            <thead class="bg-gray-500 text-gray-300">
                <tr>
                    <th class="px-4 py-2 border border-gray-700">id</th>
                    <th class="px-4 py-2 border border-gray-700">user_id</th>
                    <th class="px-4 py-2 border border-gray-700">username</th>
                    <th class="px-4 py-2 border border-gray-700">first_name</th>
                    <th class="px-4 py-2 border border-gray-700">last_name</th>
                    <th class="px-4 py-2 border border-gray-700">gender</th>
                    <th class="px-4 py-2 border border-gray-700">address</th>
                    <th class="px-4 py-2 border border-gray-700">birthday</th>
                    <th class="px-4 py-2 border border-gray-700">contact_number</th>
                    <th class="px-4 py-2 border border-gray-700">email</th>
                    <th class="px-4 py-2 border border-gray-700">password</th>
                    <th class="px-4 py-2 border border-gray-700">fingerprint</th>
                    <th class="px-4 py-2 border border-gray-700">created_at</th>
                    <th class="px-4 py-2 border border-gray-700">reset_otp</th>
                    <th class="px-4 py-2 border border-gray-700">otp_created_at</th>
                    <th class="px-4 py-2 border border-gray-700">is_verified</th>
                    <th class="px-4 py-2 border border-gray-700">verification_token</th>
                </tr>
            </thead>
            <tbody class="bg-gray-100 text-gray-900">
                <tr class="hover:bg-gray-200 transition">
                    <td class="px-4 py-2 border border-gray-300">10</td>
                    <td class="px-4 py-2 border border-gray-300">3</td>
                    <td class="px-4 py-2 border border-gray-300">41</td>
                    <td class="px-4 py-2 border border-gray-300">Borrow</td>
                    <td class="px-4 py-2 border border-gray-300">2025-10-14 03:43:33</td>
                    <td class="px-4 py-2 border border-gray-300">Male</td>
                    <td class="px-4 py-2 border border-gray-300">Lucena City</td>
                    <td class="px-4 py-2 border border-gray-300">2000-01-01</td>
                    <td class="px-4 py-2 border border-gray-300">09123456789</td>
                    <td class="px-4 py-2 border border-gray-300">user@email.com</td>
                    <td class="px-4 py-2 border border-gray-300">••••••••</td>
                    <td class="px-4 py-2 border border-gray-300">--</td>
                    <td class="px-4 py-2 border border-gray-300">2025-10-14</td>
                    <td class="px-4 py-2 border border-gray-300">---</td>
                    <td class="px-4 py-2 border border-gray-300">---</td>
                    <td class="px-4 py-2 border border-gray-300">Yes</td>
                    <td class="px-4 py-2 border border-gray-300">token123</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>


      

        <!-- Delinquent -->
        <div id="DelinquentsTable" class="hidden bg-gray-900 rounded-2xl shadow-lg p-6  w-11/12">
            <h2 class="text-2xl font-semibold mb-4 text-white">Delinquent Borrowers</h2>
            <table class="min-w-full border border-gray-500 rounded-xl overflow-hidden max-w-full text-xs sm:text-sm text-center">
                <thead class="bg-gray-500 text-gray-300">
                    <tr>
                        <th class="px-4 py-2 border border-gray-700">id</th>
                        <th class="px-4 py-2 border border-gray-700">user_id</th>
                        <th class="px-4 py-2 border border-gray-700">book_id</th>
                        <th class="px-4 py-2 border border-gray-700">read_date</th>
                    </tr>
                </thead>
                <tbody class="bg-gray-100 text-gray-900">
                    <tr class="hover:bg-gray-200 transition">
                        <td class="px-4 py-2 border border-gray-300">135</td>
                        <td class="px-4 py-2 border border-gray-300">2</td>
                        <td class="px-4 py-2 border border-gray-300">75</td>
                        <td class="px-4 py-2 border border-gray-300">2025-10-15 09:22:25</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>

<script>
  // --- Dropdown 1: Activity Logs ---
  const button1 = document.getElementById('dropdownButton');
  const menu1 = document.getElementById('dropdownMenu');
  const items1 = document.querySelectorAll('.dropdown-item');
  const tables1 = ['reservationTable', 'claimTable', 'borrowTable', 'bookrecordTable'];

  button1.addEventListener('click', () => {
    menu1.classList.toggle('hidden');
  });

  items1.forEach(item => {
    item.addEventListener('click', () => {
      const targetId = item.getAttribute('data-target');
      // Hide all activity log tables
      tables1.forEach(id => document.getElementById(id).classList.add('hidden'));
      // Show selected one
      document.getElementById(targetId).classList.remove('hidden');
      // Close dropdown
      menu1.classList.add('hidden');
      // Scroll into view
      document.getElementById(targetId).scrollIntoView({ behavior: 'smooth', block: 'start' });
    });
  });

  // --- Dropdown 2: User Activities ---
  const button2 = document.getElementById('dropdownUser');
  const menu2 = document.getElementById('dropdownUsersMenu');
  const items2 = document.querySelectorAll('.dropdown-usersitem');
  const tables2 = ['LoginTable', 'UsersTable', 'DelinquentsTable'];

  button2.addEventListener('click', () => {
    menu2.classList.toggle('hidden');
  });

  items2.forEach(item => {
    item.addEventListener('click', () => {
      const targetId = item.getAttribute('data-target');
      // Hide all user activity tables
      tables2.forEach(id => document.getElementById(id).classList.add('hidden'));
      // Show selected one
      document.getElementById(targetId).classList.remove('hidden');
      // Close dropdown
      menu2.classList.add('hidden');
      // Scroll into view
      document.getElementById(targetId).scrollIntoView({ behavior: 'smooth', block: 'start' });
    });
  });

  // --- Close dropdowns when clicking outside ---
  window.addEventListener('click', (e) => {
    if (!button1.contains(e.target) && !menu1.contains(e.target)) {
      menu1.classList.add('hidden');
    }
    if (!button2.contains(e.target) && !menu2.contains(e.target)) {
      menu2.classList.add('hidden');
    }
  });
</script>


        
    
</body>
</html>
